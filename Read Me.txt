Coruscation uses a customized version of Sparkle. Clone the Sparkle repository to a directory next to Coruscation/, and change the files as noted below.

• ConfigFramework.xcconfig: Add at the end (to support building GC app via Xcode subproject reference).
GCC_ENABLE_OBJC_GC = supported

• SUAppcastItem.m: After line 132 (NSString *newVersion = [enclosure objectForKey:@"sparkle:version"];), add to support apps that use older versions of Sparkle with different appcast keys.
if (newVersion == nil)
	newVersion = [dict objectForKey:@"version"];

• SUBasicUpdateDriver.m, At the end of the method -appcast:failedToLoadWithError:, so the delegate is notified of errors.
[self didNotFindUpdate];

• SUUpdater.m: Comment out the if block at line 74 that checks for securely-delivered updates. Apps built with older Sparkle will likely fail this test, the alerts are annoying. Also comment out lines 342 & 343 that limit profile sending to weekly.
74:
//if (![[[self feedURL] scheme] isEqualToString:@"https"] && ![host publicDSAKey])
//	NSRunAlertPanel(@"Insecure update error!", @"For security reasons, you need to distribute your appcast over SSL or sign your updates. See Sparkle's documentation for more information.", @"OK", nil, nil);

342:
//	const NSTimeInterval oneWeek = 60 * 60 * 24 * 7;
//	sendingSystemProfile &= (-[lastSubmitDate timeIntervalSinceNow] >= oneWeek);


SUUpdater.h: make the reference to the delegate weak so the CheckUpdateAppOperation objects can be garbage collected
21:
	IBOutlet id __weak delegate;
